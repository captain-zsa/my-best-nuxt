# StoryBook

## Содержание
- [Как и зачем (введение)](#Как-и-зачем)
- [Запуск](#Запуск)
- [Добавление новых компонентов](#Добавление-новых-компонентов)
- [Шеф, всё сломалось, не работает](#Ошибки)

## Как и зачем

### Зачем:
Количество компонентов постоянно растёт. Чтобы быть в курсе того, какие компоненты уже есть и не "костылить" новые – достаточно заглянуть в storybook и использовать уже существующие. Работать так гораздо быстрее.

Кроме того, storybook можно запустить отдельной командой и не надо заводить целый проект для этого, используя все ресурсы компьютера, и да, вы можете ещё больше деллегировать ваши задачи: сначала разрабатываете компонент, потом внедряете его в систему.

Также можно будет проводить любые E2E тесты над каждым компонентом.

А если менеджер будет в курсе того, какие компоненты уже есть в системе – он совместно с дизайнером может решить, можно ли в новой задаче сделать кусок со старым компонентом или всё же стоит делать новый.

### Минусы:
Да, дольше разработка, надо компонент пихать в storybook, описывать его и тп. Но плюсы очевидны. Добавлять компонент в storybook не сложно (вот [оф. документация](https://storybook.js.org/docs/vue/get-started/introduction#step-4-write-your-stories) если хотите на английском с видео и тп, ниже описываем только общие моменты).

### Итого:

> Правило 1: создаете новый компонент – он обязан быть в storybook.
> Правило 2: создаете новый компонент – он должен иметь возможность "реиспользоваться".

## Как работать со storybook

### Запуск

Для запуска выполните команду `npm run storybook`. Хостится на 3003 порте. Если нужен другой – в `nuxt.config.js` добавить:

```js
export default {
    ...
    storybook: {
        port: 4000
    }
    ...
}
```

Но после разработки лучше убрать, чтоб не путать других.

### Добавление новых компонентов

Nuxt уже умеет в storybook, его плагин ищет файл `*.stories.js` в папках `components` и `pages`. Всё, что нужно – создать этот файл и написать нужный js.

```html
<!-- Код вашего компонента, допустим Link.vue -->
<template>
  <nuxt-link to="https://nuxtjs.org">
    NuxtJs
  </nuxt-link>
</template>
```

```js
// Код Link.stories.js
export default {
  title: 'Link'
}

export const NuxtWebsite = () => '<Link />'
```

## Ошибки

Если не запускается на 3003 хосте – смотрите порт в `nuxt.config.js`.

Найдете другие проблемы и варианты их решений – смело добавляйте информацию в данный док.
